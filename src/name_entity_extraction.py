# -*-coding:utf-8 -*-
from pycorenlp import StanfordCoreNLP
import nltk

def extract_ner(raw_text):
  person_name = ""
  email=""
  phone_number = ""
  nlp = StanfordCoreNLP('http://localhost:9000')
  # tokens = nltk.word_tokenize(raw_text)
  # print(tokens)
  res = nlp.annotate(raw_text.replace("|"," "),
                     properties={
                         'annotators': 'ner',
                         'outputFormat': 'json',
                         'timeout': 1000,
                     })
  print(res)
  # for s in res["sentences"]:
  #   for m in s.get("entitymentions"):
  #     if m.get("ner")=="PERSON":
  #       person_name= m.get("text")
  #     if m.get("ner")=="EMAIL":
  #       email = m.get("text")
  return person_name,email
# print(extract_ner("vineet kumar tiwari (+91) 95-8316-0009 |ajkhan357@gmail.com |aquibjk.wordpress.com/ |aquibjaved |aquib-javed-khan-795a7286/"))
# print(extract_ner("PROFESSIONAL PROFILE MRIDUL SARAN Data Scientist | Primus Software Corporation | Noida mridulsaran@outlook.com | +91 92064 37548, +91 99971 31965 Data Scientist with 3.3 years of experience working in Artificial Intelligence, Machine Learning, Deep Learning, and Natural Language Processing in Life Sciences, Healthcare, and Insurance Domain  Experience in Agile Development Process and Scrum Methodology for varied requirements.  Familiarity with Collecting, and Compiling Business Data, and generating reports.  Experience working in Python 3.5 with numpy, scipy, pandas, matplotlib libraries.  Experience in Data Analysis and Dashboarding using Microsoft Excel and Tellius.  Experience working in Machine Learning with Python and Azure Machine Learning Studio.  Experience in Analytics/Predictive Modeling and Time Series Analysis.  Experience in NLP for Creation of Bots using Amazon Lex and Microsoft LUIS.  Experience working on Databases using MongoDB 3.2 and Microsoft SQL Server 2012.  Experience in writing JavaScript, jQuery, and AngularJS code for designing and developing Frontend applications.  Excellent verbal and interpersonal skills, good analytical and debugging skills. Primus Software Corporation, Noida, India February 2018  Present Project: ML/NLP Based Analytics Platform (Internal) September 2018 - Present Description: Developing a Business Intelligence and Analytics Platform for data visualization and insights Role: Data Scientist Responsibilities:  Assessing RASA and Amazon Lex for providing NLP Search.  Consuming Open Source JavaScript (Plotly.js, D3.js) libraries for data visualization.  Using AngularJS and jQuery for frontend manipulation.  Using Machine Learning Algorithms for building custom Predictive Models.  Using ARIMA and LSTM for Time Series Analysis in Python. Environment: Django, Amazon Lex, RASA, Python Project: Insurance (Crawford) February 2018  August 2018 EMPLOYMENT HISTORY Description: Developed a Chatbot using Amazon Lex to perform document search on Companys Insurance Claims Role: Data Scientist Responsibilities:  Used Amazon Lex for developing the Chatbot application.  Used DynamoDB for storing the JSON and Amazon S3 for storing the Claim documents.  Used Angular for creating the frontend application. Environment: Amazon Lex, Amazon Lambda and Python Tata Consultancy Services (TCS), Bangalore, India August 2015  January 2018 Project: Life Sciences & Healthcare (Johnson & Johnson) September 2017  January 2018 Description: Developed Predictive Models that can be used to keep track of suitable conditions for Medical Devices and Vaccines used by Janssen (Pharmaceutical Companies of Johnson & Johnson) Role: Data Scientist Responsibilities:  Used Azure Machine Learning Studio for developing the model.  Used Machine Learning Classification, Regression Algorithms for Developing the model.  Used Azure IoT Telemetry to provide Data to the model.  Used Python matplotlib for data visualization. Environment: Azure Machine Learning and Python Project: Life Sciences & Healthcare (Johnson & Johnson) May 2016  September 2016 Description: Developed an Interactive AI BOT to automate the tasks Role: Business Intelligence Developer Responsibilities:  Developed Bot that works with Natural Language Processing.  Used LUIS, which adds Conversational Intelligence to the Application.  Deployed the Bot on Client Portals and Skype. Environment: Microsoft Bot Framework, LUIS and C# Project: Life Sciences & Healthcare (Johnson & Johnson) August 2015  April 2016 Description: Developed a Portal (Glue) which provides unified collaborative communication experience to 265 Client Companies on any device Role: .NET and SharePoint 2013 Developer Responsibilities:  Developed Windows Services (Timer Jobs) for Adding/Updating Logs in the Database.  Developed ASP.NET Web API.  Wrote SQL Stored Procedures to delete logs from the Database Tables.   Used jQuery and AngularJS for Forms Validations.  Designed a reusable carousel component using Bootstrap and AngularJS. Implemented the Front End using JavaScript and AngularJS. Environment: ASP.NET with C#, Microsoft SharePoint 2013, AngularJS and jQuery Hadoop MapReduce: An Introduction to MapReduce Programming using April 2015 JAVA perspective  Journal: International Journal of Advanced Technology in Engineering and Science Detection of Non-Vital Tissues in Medical Imaging Using Neural Networks February 2015  Journal: International Journal of Electrical and Electronics Engineers Study and analysis of Segmentation for Medical Images based on February 2015 K-Means and Fuzzy C-Means Clustering  Journal: International Journal of Electrical and Electronics Engineers Cellular Technologies: A Basic Concept May 2012  Book Article: SAET, M.J.P. Rohilkhand University, Bareilly, Uttar Pradesh, India Award of Technical Excellence July 2017 In Recognition of: Outstanding Performance for Project Delivery   Grantor: Tata Consultancy Services on behalf of Johnson & Johnson PUBLICATIONS AWARDS AND ACHIEVEMENTS Star of the Learners Group Award August 2015 In Recognition of: Excellent Performance during Initial Learning Program   Grantor: Tata Consultancy Services Government Funding for Research Project March 2015  Description: Got approval for funding for the Project - Detection of Suitable Locations for Hydro Power Generation Units  Grantor: Government of Uttarakhand, India TECHNICAL PROFICIENCY  Programming: Python, C#, C  Database Concepts: MS SQL Server 2012, MongoDB  Web Technologies: HTML, ASP.NET and MVC, JavaScript, AngularJS, jQuery  Known Tools/Platforms: Microsoft Azure Machine Learning Studio, Jupyter Notebook, AWS Lex, Visual Studio 2017 LEARNINGS AND CERTIFICATIONS  ColumbiaX - DS102X Machine Learning for Data Science and Analytics August 2017  Machine Learning A-Z course by Kirill Eremenko and Hadelin de Ponteves July 2017 from Udemy, Inc.  Python for Data Science and Machine Learning Bootcamp by Jose Portilla June 2017 from Udemy, Inc.  HarvardX - PH526x Using Python for Research from edX June 2017  KULeuvenX: DAHx Data Analytics in Health February 2017  Machine Learning from Coursera December 2016 INTERESTS  Photography (Nikon Photography School Member)  Coin Collection (Collected 1200 coins of more than 30 Countries) Bachelor of Technology: Computer Science & Engineering 2011 - 2015  College: Birla Institute of Applied Sciences, Bhimtal, Nainital, Uttarakhand  Aggregate Percentage: 80.02% Class 12th  School: K.V. No. 2, J.L.A., Bareilly, Uttar Pradesh  Aggregate Percentage: 70.33% Class 10th  School: K.V. No. 2, J.L.A., Bareilly, Uttar Pradesh  Aggregate Percentage: 80.20% EDUCATION 2009 - 2010 2007 - 2008"))
# C:\Users\vktiwari\Downloads\corenlp\stanford-corenlp-full-2018-10-05>
# java -mx5g -cp "*" edu.stanford.nlp.pipeline.StanfordCoreNLPServer -timeout 10000
# java -mx4g -cp "*" edu.stanford.nlp.pipeline.StanfordCoreNLPServer -port 9000 -timeout 15000


string_with_dates = "PROFESSIONAL PROFILE MRIDUL SARAN Data Scientist | Primus Software Corporation | Noida mridulsaran@outlook.com | +91 92064 37548, +91 99971 31965 Data Scientist with 3.3 years of experience working in Artificial Intelligence, Machine Learning, Deep Learning, and Natural Language Processing in Life Sciences, Healthcare, and Insurance Domain  Experience in Agile Development Process and Scrum Methodology for varied requirements.  Familiarity with Collecting, and Compiling Business Data, and generating reports.  Experience working in Python 3.5 with numpy, scipy, pandas, matplotlib libraries.  Experience in Data Analysis and Dashboarding using Microsoft Excel and Tellius.  Experience working in Machine Learning with Python and Azure Machine Learning Studio.  Experience in Analytics/Predictive Modeling and Time Series Analysis.  Experience in NLP for Creation of Bots using Amazon Lex and Microsoft LUIS.  Experience working on Databases using MongoDB 3.2 and Microsoft SQL Server 2012.  Experience in writing JavaScript, jQuery, and AngularJS code for designing and developing Frontend applications.  Excellent verbal and interpersonal skills, good analytical and debugging skills. Primus Software Corporation, Noida, India February 2018  Present Project: ML/NLP Based Analytics Platform (Internal) September 2018 - Present Description: Developing a Business Intelligence and Analytics Platform for data visualization and insights Role: Data Scientist Responsibilities:  Assessing RASA and Amazon Lex for providing NLP Search.  Consuming Open Source JavaScript (Plotly.js, D3.js) libraries for data visualization.  Using AngularJS and jQuery for frontend manipulation.  Using Machine Learning Algorithms for building custom Predictive Models.  Using ARIMA and LSTM for Time Series Analysis in Python. Environment: Django, Amazon Lex, RASA, Python Project: Insurance (Crawford) February 2018  August 2018 EMPLOYMENT HISTORY Description: Developed a Chatbot using Amazon Lex to perform document search on Companys Insurance Claims Role: Data Scientist Responsibilities:  Used Amazon Lex for developing the Chatbot application.  Used DynamoDB for storing the JSON and Amazon S3 for storing the Claim documents.  Used Angular for creating the frontend application. Environment: Amazon Lex, Amazon Lambda and Python Tata Consultancy Services (TCS), Bangalore, India August 2015  January 2018 Project: Life Sciences & Healthcare (Johnson & Johnson) September 2017  January 2018 Description: Developed Predictive Models that can be used to keep track of suitable conditions for Medical Devices and Vaccines used by Janssen (Pharmaceutical Companies of Johnson & Johnson) Role: Data Scientist Responsibilities:  Used Azure Machine Learning Studio for developing the model.  Used Machine Learning Classification, Regression Algorithms for Developing the model.  Used Azure IoT Telemetry to provide Data to the model.  Used Python matplotlib for data visualization. Environment: Azure Machine Learning and Python Project: Life Sciences & Healthcare (Johnson & Johnson) May 2016  September 2016 Description: Developed an Interactive AI BOT to automate the tasks Role: Business Intelligence Developer Responsibilities:  Developed Bot that works with Natural Language Processing.  Used LUIS, which adds Conversational Intelligence to the Application.  Deployed the Bot on Client Portals and Skype. Environment: Microsoft Bot Framework, LUIS and C# Project: Life Sciences & Healthcare (Johnson & Johnson) August 2015  April 2016 Description: Developed a Portal (Glue) which provides unified collaborative communication experience to 265 Client Companies on any device Role: .NET and SharePoint 2013 Developer Responsibilities:  Developed Windows Services (Timer Jobs) for Adding/Updating Logs in the Database.  Developed ASP.NET Web API.  Wrote SQL Stored Procedures to delete logs from the Database Tables.   Used jQuery and AngularJS for Forms Validations.  Designed a reusable carousel component using Bootstrap and AngularJS. Implemented the Front End using JavaScript and AngularJS. Environment: ASP.NET with C#, Microsoft SharePoint 2013, AngularJS and jQuery Hadoop MapReduce: An Introduction to MapReduce Programming using April 2015 JAVA perspective  Journal: International Journal of Advanced Technology in Engineering and Science Detection of Non-Vital Tissues in Medical Imaging Using Neural Networks February 2015  Journal: International Journal of Electrical and Electronics Engineers Study and analysis of Segmentation for Medical Images based on February 2015 K-Means and Fuzzy C-Means Clustering  Journal: International Journal of Electrical and Electronics Engineers Cellular Technologies: A Basic Concept May 2012  Book Article: SAET, M.J.P. Rohilkhand University, Bareilly, Uttar Pradesh, India Award of Technical Excellence July 2017 In Recognition of: Outstanding Performance for Project Delivery   Grantor: Tata Consultancy Services on behalf of Johnson & Johnson PUBLICATIONS AWARDS AND ACHIEVEMENTS Star of the Learners Group Award August 2015 In Recognition of: Excellent Performance during Initial Learning Program   Grantor: Tata Consultancy Services Government Funding for Research Project March 2015  Description: Got approval for funding for the Project - Detection of Suitable Locations for Hydro Power Generation Units  Grantor: Government of Uttarakhand, India TECHNICAL PROFICIENCY  Programming: Python, C#, C  Database Concepts: MS SQL Server 2012, MongoDB  Web Technologies: HTML, ASP.NET and MVC, JavaScript, AngularJS, jQuery  Known Tools/Platforms: Microsoft Azure Machine Learning Studio, Jupyter Notebook, AWS Lex, Visual Studio 2017 LEARNINGS AND CERTIFICATIONS  ColumbiaX - DS102X Machine Learning for Data Science and Analytics August 2017  Machine Learning A-Z course by Kirill Eremenko and Hadelin de Ponteves July 2017 from Udemy, Inc.  Python for Data Science and Machine Learning Bootcamp by Jose Portilla June 2017 from Udemy, Inc.  HarvardX - PH526x Using Python for Research from edX June 2017  KULeuvenX: DAHx Data Analytics in Health February 2017  Machine Learning from Coursera December 2016 INTERESTS  Photography (Nikon Photography School Member)  Coin Collection (Collected 1200 coins of more than 30 Countries) Bachelor of Technology: Computer Science & Engineering 2011 - 2015  College: Birla Institute of Applied Sciences, Bhimtal, Nainital, Uttarakhand  Aggregate Percentage: 80.02% Class 12th  School: K.V. No. 2, J.L.A., Bareilly, Uttar Pradesh  Aggregate Percentage: 70.33% Class 10th  School: K.V. No. 2, J.L.A., Bareilly, Uttar Pradesh  Aggregate Percentage: 80.20% EDUCATION 2009 - 2010 2007 - 2008"
# import datefinder
# matches = datefinder.find_dates(string_with_dates)
# for match in matches:
#     print (match)

from datetime import datetime
import re

# message_text = "Your package with Tennis Shoes will be delivered on or before 03-Nov. Track at www.amazon.in/track"
date_strings = re.findall("(\d+\-\w+)", string_with_dates)
print(date_strings)
for i in date_strings:
    date = datetime.strptime("03-Nov", "%d-%b")
    print(date)
